$(document).ready(function(){if(_isMobileDevice.tablet&&location.pathname.indexOf('launcher/sports')>0){$('html').addClass('isTabletDevice')}
if(_isMobileDevice.phone&&location.pathname.indexOf('launcher/sports')>0){$('html').addClass('isMobileDevice')}});try{if(Pt.Settings.site==='AffiliateSite'){Pt.Deposit.OfflineDeposit.prototype._onValidationSuccess=function(data,context){var self=context;var file=null;var bankCode=data.get('bankCode');var bank=_.findWhere(self.banks,{bankCode:bankCode})||{};var depositTime=data.get('depositTime')||moment().format("HH:mm:ss");var depositDate=data.get('depositDate')||moment().format("YYYY-MM-DD");var bankTransferDate=moment(new Date(depositDate.replace(/-/g,'/')+' '+depositTime)).format("YYYY-MM-DD HH:mm:ss+08:00");var $nProg=Pt.Helpers.Nprogress;var Form=Pt.Helpers.Form;var FundsService=Pt.Services.Affiliates.FundsService;var Notify=Pt.Helpers.Notify;var ErrorHandler=Pt.Helpers.ErrorHandler;try{file=$('[data-js=deposit-file]')[0].files[0]}catch(e){}
data.set('bankName',bank.bankName);data.set('bankTransferDate',bankTransferDate);if(bankCode!=='OTHER'||!data.get('bankNameNative')){data.set('bankNameNative',bank.bankNativeName)}
if(file){data.set('depositFile',file)}
$nProg.start();Form.lockForm(self.form,!0);FundsService.createOfflineTransaction(self.depositMethod.id,data.toFormData()).then(function(response){Notify.success(_.str_replace_key({':transactionId':response.invId},_.trans('funds.success_message_offline_deposit')));self._resetForm(self.form)}).fail(function(errors){ErrorHandler.show(errors)}).finally(function(){Form.lockForm(self.form,!1);$nProg.done()})}}}catch(e){};affSummary();function affSummary(){try{Pt.Widgets.BaseAffiliateSummary.prototype.renderSummary=function(){var view=Pt.Managers.Template.get(this.view,this.summaryData);this.render(this.widgetContainer,view);this._bindEvents();Pt.Hooks._generateQrCodes()}}catch(e){}};Pt.Helpers.DataTable.destroy=function(dtInstance){if(dtInstance){if(dtInstance.initialized){dtInstance.destroy()}}};(function(_,$q,WidgetService){"use strict";_.Class('Pt.Services.Cms.DepositBannerService',new DepositBannerService());function DepositBannerService(){var depositBannersCache=null;return{init:init,getBanner:getBanner};function init(){var defer=$q.defer();if(depositBannersCache){defer.resolve(depositBannersCache);return defer.promise}
WidgetService.get('deposit_mini_banner').then(function(response){depositBannersCache=response.deposit_method||[];defer.resolve(depositBannersCache)}).fail(function(){defer.resolve([])});return defer.promise}
function getBanner(methodCode){var banner=_.findWhere(depositBannersCache,{method_code:methodCode});if(banner){return banner}
return""}}})(_,Q,Pt.Services.Cms.WidgetService);Pt.Helpers.Error={show:function(errors){var message=_.map(errors,function(error){if(_.isObject(error.message)&&_.has(error.message,'message')){return error.message.message}
var errorMessage=error.message,parsedMessage=null;try{var errorKey='errors.'+JSON.parse(errorMessage).code.replace(/\./g,'_');parsedMessage=_.trans(errorKey);if(_.isString(JSON.parse(errorMessage).error)&&parsedMessage===errorKey){parsedMessage=JSON.parse(errorMessage).error}}catch(e){}
return parsedMessage||errorMessage}).join("<br>");Pt.Helpers.Notify.error(message)}};$(document).ready(function(){__changeCurrency()});function __changeCurrency(){try{Pt.Widgets.BaseMainBalance.prototype.activate=function(container){var self=this;this.preRender(container);this.getBalances().then(function(res){var idx=_.findIndex(res,{id:16});if(idx!==-1){res[idx].currency='RMB'}
var view=Pt.Managers.Template.get('widgets.walletItems',{wallets:res,totalBalance:self.computeTotalBalance(res,Pt.Settings.member.currency),loadClass:''});self.render(self.itemContainer,view)._bindEvents()._showWalletIndicator()})}}catch(e){}};$.getScript('https://www.googletagmanager.com/gtag/js?id=UA-134164544-1');window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}
gtag('js',new Date());gtag('config','UA-134164544-1');(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=!0;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);console.log("Manager")})(window,document,'script','dataLayer','GTM-NBM4V7P');$(document).ready(function(){$('body').on('click','.dataTable-pagination .ellipsis a',function(e){e.preventDefault()})});window.lpTag=window.lpTag||{},'undefined'==typeof window.lpTag._tagCount?(window.lpTag={wl:lpTag.wl||null,scp:lpTag.scp||null,site:'24455739'||'',section:lpTag.section||'',tagletSection:lpTag.tagletSection||null,autoStart:lpTag.autoStart!==!1,ovr:lpTag.ovr||{},_v:'1.10.0',_tagCount:1,protocol:'https:',events:{bind:function(t,e,i){lpTag.defer(function(){lpTag.events.bind(t,e,i)},0)},trigger:function(t,e,i){lpTag.defer(function(){lpTag.events.trigger(t,e,i)},1)}},defer:function(t,e){0===e?(this._defB=this._defB||[],this._defB.push(t)):1===e?(this._defT=this._defT||[],this._defT.push(t)):(this._defL=this._defL||[],this._defL.push(t))},load:function(t,e,i){var n=this;setTimeout(function(){n._load(t,e,i)},0)},_load:function(t,e,i){var n=t;t||(n=this.protocol+'//'+(this.ovr&&this.ovr.domain?this.ovr.domain:'lptag.liveperson.net')+'/tag/tag.js?site='+this.site);var o=document.createElement('script');o.setAttribute('charset',e?e:'UTF-8'),i&&o.setAttribute('id',i),o.setAttribute('src',n),document.getElementsByTagName('head').item(0).appendChild(o)},init:function(){this._timing=this._timing||{},this._timing.start=(new Date).getTime();var t=this;window.attachEvent?window.attachEvent('onload',function(){t._domReady('domReady')}):(window.addEventListener('DOMContentLoaded',function(){t._domReady('contReady')},!1),window.addEventListener('load',function(){t._domReady('domReady')},!1)),'undefined'===typeof window._lptStop&&this.load()},start:function(){this.autoStart=!0},_domReady:function(t){this.isDom||(this.isDom=!0,this.events.trigger('LPT','DOM_READY',{t:t})),this._timing[t]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],hooks:lpTag.hooks||[],identities:lpTag.identities||[],ev:lpTag.ev||[]},lpTag.init()):window.lpTag._tagCount+=1;$(document).ready(function(){$('body').on('click',".launch-livechat",function(){console.log("live chat click",$(".LPMcontainer").length);$(".LPMcontainer").click();return!1});if(Pt.Settings.site==='AffiliateSite'){console.log("Affiliate");$(".LPMcontainer").remove()}});$(document).ready(function(){var signupHashes=['#signup-modal','#%C4%90%C4%83ng-K%C3%BD','#tang50k'];if(signupHashes.indexOf(location.hash)>-1){$('#signup-modal').modal('show')}});try{Pt.Endpoints.urls.api.member.signupV3=Pt.Endpoints.urls.api.member.signup}catch(e){};try{Pt.Controllers.BasePromoController.prototype._onApplyNowClick=function(e){e.preventDefault();var Managers=Pt.Managers;var Settings=Pt.Settings;var self=e.data.context;var el=$(this);var promoCard=el.closest('[data-js=promo-card]');var promoID=el.data('promoId');if(!promoID){promoID=promoCard.data('promoId')?promoCard.data('promoId'):el.data('promoId')}
var promoDetails=_.findWhere(self.promotions,{hashId:promoID});var view=Managers.Template.get('web.welcomeBonus',{memberCode:Settings.member.code,promoDetails:promoDetails,welcomeBonusDetails:self.welcomeBonusPromoMapping[promoID]||{}});self.render(self.welcomeBonusClaimContainer,view)._bindEvents();$(self.detailsModal).modal('hide');$(self.welcomeBonusModal).modal('show')};Pt.Controllers.BasePromoController.prototype._onMoreInfoClick=function(e){e.preventDefault();var Managers=Pt.Managers;var Settings=Pt.Settings;var self=e.data.context;var el=$(this);var promoCard=el.closest('[data-js=promo-card]');var promoDetails=_.findWhere(self.promotions,{hashId:promoCard.data('promoId')});var promoDuration=promoDetails.getPromoDuration();if(promoDetails.promoCode){location.hash=promoDetails.promoCode}
var view=Managers.Template.get('web.promoDetails',{isLoggedIn:Settings.member.isLoggedIn,promoDetails:promoDetails,welcomeBonusPromos:self.welcomeBonusPromoMapping,duration:promoDuration});self.selectedPromotion=promoCard;self.render(self.detailsContainer,view);$(self.detailsModal).modal('show');self._startTicker(promoDuration)}
Pt.Widgets.BaseAnnouncements.prototype._onAnnouncementItemClick=function(e){var self=e.data.context;var el=$(this);var ids=el.data('id').split('|');var tabs=_.map(self.announcementCategories,function(item){return{key:Pt.Config.announcements['cat_id_'+item.id],cat_id:item.id}});var view=Pt.Managers.Template.get(self.modal,{ids:{cat_id:ids[0],id:ids[1]},tabs:tabs,announcements:self.announcements});self.render(self.elModalContent,view);$(self.elModal).modal('show');self.flagAnnouncementsAsRead()}
Pt.Services.Members.RebateService.getMondaySelection=function(startPeriod){var mondaySelection=[];var counter=0;var monday=null;var previouslyCreatedMonday=undefined;var rebateStartPeriod=startPeriod||moment(new Date()).format('YYYY-MM-DD');for(;counter<5;counter ++){if(previouslyCreatedMonday){monday=previouslyCreatedMonday.day(-2).startOf('isoWeek').isoWeekday(1)}else{monday=moment().startOf('isoWeek').isoWeekday(1)}
if(monday.diff(new Date(rebateStartPeriod),'days')>-1){var momentObject=moment(monday.format("YYYY-MM-DD"));momentObject=_.extend(momentObject,{getLabel:function(){var label=this.format('gggg')+" "+_.trans('rebates.label_year')+" "+this.isoWeek()+" "+_.trans('rebates.label_week');if(moment(new Date()).isoWeek()===this.isoWeek()){label+=" "+_.trans('rebates.label_current_week')}
return label},canClaim:function(){return!0},isCurrentWeek:function(){return+moment(new Date()).isoWeek()===+this.isoWeek()}});mondaySelection.push(momentObject)}
previouslyCreatedMonday=monday}
return mondaySelection}}catch(e){}
try{if(Pt.Settings.site==='AffiliateSite'){Pt.Rules.validation.affiliate.paymentType={paymentType:{presence:{message:"^"+_.trans('errors.payment_type_required')}},description:{paymentTypeDescription:{message:"^"+_.trans('errors.payment_type_description_required')}},attachment:{paymentTypeAttachment:{message:"^"+_.trans('errors.payment_type_attachment_required')},imageType:{message:"^"+_.trans('errors.invalid_deposit_image_format')},imageSize:{maximum:1024000,message:"^"+_.trans('errors.invalid_payment_image_file_size')}}}}}catch(e){};Pt.Rules.validation.signup.mobile={presence:{message:"^"+_.trans('errors.contact_required')},length:{minimum:6,tooShort:"^"+_.trans('errors.mobile_min'),},numericality:{message:"^"+_.trans('errors.contact_invalid_format')},format:{pattern:/^(?!0+$)[0-9]{2,}$/,message:"^"+_.trans('errors.contact_invalid_format')}};$(document).ready(function(){$('body').on('click','.hot-match .data-icon.icon-close',function(){$(this).parent().remove()})});$(document).ready(function(){$('body').on('click','.qr-sticky-dl .data-icon.icon-close',function(){$(this).parent().remove()})});$(document).ready(function(){if(Pt.Settings.site==='MemberSite'){Pt.Controllers.BaseDepositController.prototype._onBaseAmountChange=function(e){if(_.isIe()){$(this).val($(this).val().replace(/>|,|\s|[A-Za-z]/gi,''))}
if(location.href.indexOf('12021161')>-1){disabledDecimal()}else if(location.href.indexOf('12021163')>-1){disabledDecimal()}else{if(_.exceedsDecimal($(this).val(),2)){$(this).val(self.lastAmount)}else{if(!_.isEmpty($(this).val())){self.lastAmount=$(this).val()}}}
function disabledDecimal(){$("input").on("keypress",function(event){if(event.which<48||event.which>57){event.preventDefault()}})}}}});if(Pt.Settings.site==='MemberSite'){Pt.Widgets.BaseWinnersNotification.prototype.displayWinnerCard=function(winner_details,options){var _self=this;var view=Pt.Managers.Template.get(_self.cardTemplate,{winner_details:winner_details,winner_message:_.str_replace_key({':username':winner_details.username,':currency':winner_details.currency,':amount':winner_details.amount,':game_name':winner_details.game_name},_.trans('global.winner_message'))});$(_self.winnersContainer).removeClass('slide-out').addClass('slide-in');setTimeout(function(){$(_self.winnerCardContainer).html(view);$(_self.winnersContainer).removeClass('slide-in').addClass('slide-out')},options.animation_duration)}};try{Pt.Withdrawal.BaseOfflineWithdrawal.prototype._onValidationSuccess=function(formData,context){var self=context;var data=formData.data;var bankCode=_.findWhere(data,{name:'bankCode'});var bank=_.findWhere(self.settings.banks,{bankCode:bankCode.value});var bankNative=_.findWhere(data,{name:'bankNameNative'});var amountField=_.findWhere(data,{name:'amount'});data.push({name:"bankName",value:bank.bankName});data.push({name:"source",value:'Mobile'});data.push({name:"memberMobile",value:'-'});data.push({name:"requestAmount",value:amountField.value});if(_.isEmpty(bankNative.value)){bankNative.value=bank.bankNameNative;var dataIndex=_.findIndex(data,{name:"bankName"});if(dataIndex>-1){data[dataIndex].value=bank.bankNameNative}}
Pt.Helpers.Nprogress.start();Pt.Helpers.Form.lockForm(self.form,!0);Pt.Services.Members.WithdrawalService.withdraw(data).then(function(response){Pt.Helpers.Notify.success(_.str_replace_key({':transactionId':response.data.invId},_.trans('funds.success_message_offline_withdrawal')));self._resetForm(self.form);Pt.Widgets.Balance.mainBalance().refreshWalletBalance();if(_.booleanString(_.propertyValue(Pt.Settings,'funds.withdrawal.allow_cancel',!1))){self._initializeWithdrawalTransactions()}}).fail(function(error){Pt.Helpers.ErrorHandler.show(error)}).finally(function(){Pt.Helpers.Nprogress.done();Pt.Helpers.Form.lockForm(self.form,!1);if(self.selectedRadio){$(self.selectedRadio).click()}})}}catch(e){}
try{var hack_domain=_.str_replace_key({'www.':'','GO88.gpintdemo':'gpintdemo','GO88-aff.gpintdemo':'gpintdemo','affiliate.':''},location.host);Pt.Settings.main_domain=hack_domain;Pt.Settings.app_domain=hack_domain;Pt.Config.funds.currency_bankingDetails={'VND':'momo'}}catch(e){}